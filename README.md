# API –Ø–Ω–¥–µ–∫—Å.–î–∏—Ä–µ–∫—Ç - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API –Ø–Ω–¥–µ–∫—Å.–î–∏—Ä–µ–∫—Ç. –ú–µ—Ç–æ–¥—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –ø–æ–ª—É—á–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–∞–º–ø–∞–Ω–∏—è—Ö, –≥—Ä—É–ø–ø–∞—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π, —Å—Ç—Ä–∞—Ç–µ–≥–∏—è—Ö, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏.

## –ù–∞–≤–∏–≥–∞—Ü–∏—è

### üìö –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã

1. **[–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è](authentication.md)** - –ö–∞–∫ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è –≤ API

### üìã –ú–µ—Ç–æ–¥—ã API

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏
- **[–í–∞–ª–∏–¥–∞—Ü–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞](validateAccount.md)** - –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–∫–∫–∞—É–Ω—Ç—É
- **[–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∫–∞–º–ø–∞–Ω–∏–π](getCampaignsList.md)** - –°–ø–∏—Å–æ–∫ —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –∫–∞–º–ø–∞–Ω–∏–π
- **[–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≥—Ä—É–ø–ø –æ–±—ä—è–≤–ª–µ–Ω–∏–π](getGroupsList.md)** - –ì—Ä—É–ø–ø—ã –æ–±—ä—è–≤–ª–µ–Ω–∏–π –≤ –∫–∞–º–ø–∞–Ω–∏—è—Ö
- **[–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π](getAdsListAPI.md)** - –°–ø–∏—Å–æ–∫ –æ–±—ä—è–≤–ª–µ–Ω–∏–π –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –∫–∞–º–ø–∞–Ω–∏–π

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- **[–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –∫–∞–º–ø–∞–Ω–∏–π](getCampaignStrategies.md)** - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –∏ –±—é–¥–∂–µ—Ç–æ–≤

#### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- **[–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∫–∞–º–ø–∞–Ω–∏–π](getCampaignsStatistics.md)** - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞–º–ø–∞–Ω–∏—è–º —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏
- **[–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≥—Ä—É–ø–ø –æ–±—ä—è–≤–ª–µ–Ω–∏–π](getGroupsStatistics.md)** - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≥—Ä—É–ø–ø–∞–º –æ–±—ä—è–≤–ª–µ–Ω–∏–π
- **[–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∞–∫–∫–∞—É–Ω—Ç–∞](getAccountStatistics.md)** - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≤—Å–µ–º—É –∞–∫–∫–∞—É–Ω—Ç—É —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π
- **[–ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–ª–æ—â–∞–¥–æ–∫](getFilteredPlatforms.md)** - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–ª–æ—â–∞–¥–æ–∫ –ø–æ –∑–∞–¥–∞–Ω–Ω—ã–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º

#### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
- **[–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã](asyncProcesses.md)** - –ó–∞–ø—É—Å–∫ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ–Ω–æ–≤—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
   - –ó–∞–ø—É—Å–∫ –ø—Ä–æ—Ü–µ—Å—Å–∞ (startYandexDirectFetch)
   - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ (getYandexDirectFetchStatus)
   - –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (getYandexDirectFetchResults)
   - –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ (stopYandexDirectFetch)

### üö® –°–ø—Ä–∞–≤–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **[–ö–æ–¥—ã –æ—à–∏–±–æ–∫](errors.md)** - –û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –∏ —Å–ø–æ—Å–æ–±—ã –∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

---

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞

```python
import requests

response = requests.post(
    'https://your-domain.com/webHooks/validateYandexDirectAccount',
    params={'account': 'myaccount', 'client': 'myclient'}
)
print(response.json())
```

### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∫–∞–º–ø–∞–Ω–∏–π

```python
import requests

response = requests.get(
    'https://your-domain.com/webHooks/getCampaignsList',
    params={
        'account': 'myaccount',
        'client': 'myclient',
        'from': '2026-01-01',
        'to': '2026-01-20'
    }
)
print(response.json())
```

### 3. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

```python
import requests

response = requests.post(
    'https://your-domain.com/webHooks/getCampaignsStatistics',
    params={'account': 'myaccount', 'client': 'myclient'},
    json={
        'campaign_ids': [111, 222],
        'fields': ['expense', 'clicks', 'impressions'],
        'from': '2026-01-01',
        'to': '2026-01-31'
    }
)
print(response.json())
```

---

## –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤

–í—Å–µ –º–µ—Ç–æ–¥—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç JSON –≤ –µ–¥–∏–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ:

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç:**
```json
{
    "status": "ok",
    "data": {}
}
```

**–û—à–∏–±–∫–∞:**
```json
{
    "status": "error",
    "error": "–û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏"
}
```

---

## –ë–∞–∑–æ–≤—ã–π URL

```
https://your-domain.com/webHooks
```

---

## –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

–ü–æ—á—Ç–∏ –≤—Å–µ –º–µ—Ç–æ–¥—ã —Ç—Ä–µ–±—É—é—Ç –¥–≤–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| `account` | –õ–æ–≥–∏–Ω –∞–∫–∫–∞—É–Ω—Ç–∞ –Ø–Ω–¥–µ–∫—Å.–î–∏—Ä–µ–∫—Ç |
| `client` | –õ–æ–≥–∏–Ω –∫–ª–∏–µ–Ω—Ç–∞ |

---

## –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø–æ–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

### –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–æ–ª—è
- `impressions` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–∫–∞–∑–æ–≤
- `clicks` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∏–∫–æ–≤
- `expense` - –†–∞—Å—Ö–æ–¥—ã
- `bounces` - –û—Ç—Å–∫–æ–∫–∏
- `conversions` - –ö–æ–Ω–≤–µ—Ä—Å–∏–∏

### –í—ã—á–∏—Å–ª—è–µ–º—ã–µ –ø–æ–ª—è
- `cpa` - –°—Ç–æ–∏–º–æ—Å—Ç—å –æ–Ω–ª–∞–π–Ω –∫–æ–Ω–≤–µ—Ä—Å–∏–∏
- `cpl` - –°—Ç–æ–∏–º–æ—Å—Ç—å –æ—Ñ—Ñ–ª–∞–π–Ω –ª–∏–¥–∞
- `cpc` - –°—Ç–æ–∏–º–æ—Å—Ç—å –∫–ª–∏–∫–∞
- `ctr` - –ü—Ä–æ—Ü–µ–Ω—Ç –∫–ª–∏–∫–æ–≤
- `avg_pageviews` - –ì–ª—É–±–∏–Ω–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞

### –ü–æ–ª—è —Ü–µ–ª–µ–π
- `online_conversions` - –û–Ω–ª–∞–π–Ω –∫–æ–Ω–≤–µ—Ä—Å–∏–∏
- `qualified_leads` - –ö–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–∏–¥—ã

–ü–æ–¥—Ä–æ–±–Ω–µ–µ —Å–º. –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –º–µ—Ç–æ–¥–æ–≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏.

---

## –ü—Ä–∏–º–µ—Ä—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### Python
```python
import requests
import json

class DirectAPI:
    def __init__(self, base_url, account, client):
        self.base_url = base_url
        self.account = account
        self.client = client
    
    def get_campaigns(self, from_date, to_date):
        response = requests.get(
            f'{self.base_url}/getCampaignsList',
            params={
                'account': self.account,
                'client': self.client,
                'from': from_date,
                'to': to_date
            }
        )
        return response.json()
    
    def get_statistics(self, campaign_ids, fields, from_date, to_date):
        response = requests.post(
            f'{self.base_url}/getCampaignsStatistics',
            params={
                'account': self.account,
                'client': self.client
            },
            json={
                'campaign_ids': campaign_ids,
                'fields': fields,
                'from': from_date,
                'to': to_date
            }
        )
        return response.json()

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
api = DirectAPI('https://your-domain.com/webHooks', 'myaccount', 'myclient')
campaigns = api.get_campaigns('2026-01-01', '2026-01-20')
print(campaigns)
```

### JavaScript
```javascript
const base_url = 'https://your-domain.com/webHooks';
const account = 'myaccount';
const client = 'myclient';

async function getCampaigns(fromDate, toDate) {
    const params = new URLSearchParams({
        account,
        client,
        from: fromDate,
        to: toDate
    });

    const response = await fetch(`${base_url}/getCampaignsList?${params}`);
    return await response.json();
}

async function getStatistics(campaignIds, fields, fromDate, toDate) {
    const response = await fetch(`${base_url}/getCampaignsStatistics?account=${account}&client=${client}`, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({
            campaign_ids: campaignIds,
            fields: fields,
            from: fromDate,
            to: toDate
        })
    });
    return await response.json();
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
getCampaigns('2026-01-01', '2026-01-20').then(data => console.log(data));
```

---

## –õ–∏–º–∏—Ç—ã –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –∑–∞–ø—Ä–æ—Å–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏: 2 –≥–æ–¥–∞
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ü–µ–ª–µ–π: 100
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞–º–ø–∞–Ω–∏–π: –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
- –î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤

---

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø—Ä–æ–±–ª–µ–º –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ —Å–ª—É–∂–±—É –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–¥–µ–ª [–ö–æ–¥—ã –æ—à–∏–±–æ–∫](errors.md).

---

## –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

### v1.0
- –î–æ–±–∞–≤–ª–µ–Ω—ã –æ—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã API
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∫–∞–º–ø–∞–Ω–∏–π –∏ –≥—Ä—É–ø–ø
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
- –ú–µ—Ç–æ–¥ –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∞–∫–∫–∞—É–Ω—Ç–∞ —Å –∞–≥—Ä–µ–≥–∞—Ü–∏–µ–π
